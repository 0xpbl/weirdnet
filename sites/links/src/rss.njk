---
permalink: "rss.xml"
eleventyExcludeFromCollections: true
---
<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>weirdnet links</title>
    <link>https://links.weirdnet.org/</link>
    <description>link dump from weirdnet</description>
    <language>en</language>

    <atom:link href="https://links.weirdnet.org/rss.xml" rel="self" type="application/rss+xml"/>

    {# fonte única de verdade #}
    {% set items = linksJson | default([]) %}

    {# lastBuildDate: pega a data do primeiro item (sem filtros) #}
    {% if (items | length) > 0 %}
      <lastBuildDate>{{ (items[0].addedAt | default("1970-01-01")) ~ "T00:00:00Z" }}</lastBuildDate>
    {% endif %}

    {# gera até 50 itens NÃO-directory, sem depender de rejectattr/slice #}
    {% set count = 0 %}
    {% for item in items %}
      {% if item and item.isDirectory != true and count < 50 %}
        {% set count = count + 1 %}
    <item>
      <title>{{ (item.title | default("")) | escape }}</title>
      <link>{{ (item.url | default("")) | escape }}</link>
      <guid isPermaLink="true">{{ (item.url | default("")) | escape }}</guid>
      <description>{{ (item.desc | default("")) | escape }}</description>
      <pubDate>{{ (item.addedAt | default("1970-01-01")) ~ "T00:00:00Z" }}</pubDate>
    </item>
      {% endif %}
    {% endfor %}

  </channel>
</rss>
